<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>BeezKnees | Register Apiary</title>

  <!-- Font Awesome (Hamburger Button - Correct class will be used below) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" referrerpolicy="no-referrer" />

  <!-- Member-only styles -->
  <link rel="stylesheet" href="../../css/members.css" />
  
  <!-- Leaflet CSS (Fixed) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  
  <!-- Leaflet JS (Fixed) -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>

  <!-- SEO Meta Tags -->
  <meta name="description" content="BeezKnees is your practical beekeeping guide, offering seasonal tips, hive health advice, and pollinator protection resources for beginners and experienced keepers alike." />
  <meta name="keywords" content="beekeeping guide, practical beekeeping, hive care, pollinator protection, apiary tips, seasonal hive tasks, queen rearing, swarm control, beekeeping for beginners, beekeeping resources" />
  <meta name="author" content="Colin Chorley" />

  <!-- Favicon -->
  <link rel="icon" href="../../images/favicon.ico" type="image/x-icon" />
  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32.png" />
  <link rel="apple-touch-icon" href="../../apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="../../images/android-chrome-192x192.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="../../images/android-chrome-512x512.png" />
  <link rel="manifest" href="../../site.webmanifest" />
</head>

<body class="member-layout">
  <!-- Loading Screen -->
  <div id="member-loading-screen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fff; color: #333; z-index: 9999; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
    Please wait, checking login status...
  </div>

  <!-- Fixed Header -->
  <header class="member-header" role="banner" aria-label="BeezKnees Member Header">
    <div class="member-header-container" role="region" aria-label="Site Branding">
      <a href="https://www.beezknees.co.uk" aria-label="Visit BeezKnees Home">
        <img src="../../images/BeezKnees-Logo.png" alt="BeezKnees Logo" class="member-logo" /></a>
          <h1 class="member-title">Register Apiary</h1>

      <!-- 🍔 Hamburger Toggle -->
      <button class="member-menu-toggle" id="menuToggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="navMenu">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </header>

  <!-- NAVIGATION -->
  <nav class="member-navbar" role="navigation" aria-label="Member Navigation Menu">
    <ul class="member-nav-menu">
      <li class="member-dropdown">
        <button class="member-dropdown-toggle" onclick="window.location.href='dashboard.html'">
            Dashboard
        </button>
      </li>

      <li class="member-dropdown">
        <button class="member-dropdown-toggle" aria-haspopup="true" aria-expanded="false" aria-controls="apiary-menu">
          Apiary <span class="member-arrow">▼</span>
        </button>
        <ul id="apiary-menu" class="member-dropdown-menu">
          <li><a href="register-apiary.html">Register New Apiary</a></li>
          <li><a href="map.html">View Apiary Map</a></li>
        </ul>
      </li>

      <li class="member-dropdown">
        <button class="member-dropdown-toggle" aria-haspopup="true" aria-expanded="false" aria-controls="hives-menu">
          Hives <span class="member-arrow">▼</span>
        </button>
        <ul id="hives-menu" class="member-dropdown-menu">
          <li><a href="register-hive.html">Register New Hive</a></li>
          <li><a href="materials.html">Hive Material Tracker</a></li>
          <li><a href="inspection.html">Start New Inspection</a></li>
          <li><a href="inspections.html">Past Inspections</a></li>
        </ul>
      </li>

      <li class="member-dropdown">
        <button class="member-dropdown-toggle" aria-haspopup="true" aria-expanded="false" aria-controls="analytics-menu">
          Analytics <span class="member-arrow">▼</span>
        </button>
        <ul id="analytics-menu" class="member-dropdown-menu">
          <li><a href="calendar.html">Inspection Calendar</a></li>
          <li><a href="analytics.html">Trends & Analytics</a></li>
        </ul>
      </li>

      <li class="member-dropdown">
        <button class="member-dropdown-toggle" aria-haspopup="true" aria-expanded="false" aria-controls="team-menu">
          Team & Account <span class="member-arrow">▼</span>
        </button>
        <ul id="team-menu" class="member-dropdown-menu">
          <li><a href="team.html">Manage Team Members</a></li>
          <li><a href="account.html">Account Settings</a></li>
          <li><a href="#" id="logout-btn">Log Out</a></li>
          <li><a href="#" id="delete-account-btn">Delete Account</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <!-- Hero Banner -->
    <section role="region" aria-label="Dashboard Banner">
      <div class="member-banner">
        <img src="../../images/hives.jpg" alt="Beehive image in apiary" />
      </div>
    </section>  

  <!-- Form -->
   <main class="content form-page">
  <div class="form-card">
    <h2>Register New Apiary</h2>

    <form name="register-apiary" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/thank-you.html" aria-label="Register New Apiary Form">
      <input type="hidden" name="form-name" value="register-apiary" />
      <p style="display:none;"><label>Don’t fill this out: <input name="bot-field" /></label></p>

      <!-- Apiary Name -->
      <label for="apiary-name">Apiary Name <span aria-hidden="true">*</span></label>
      <input type="text" id="apiary-name" name="apiaryName" required aria-required="true" />

      <!-- Established Date -->
      <label for="established-date">Date Established <span aria-hidden="true">*</span></label>
      <input type="date" id="established-date" name="establishedDate" required aria-required="true" />

      <!-- Environment -->
      <label for="environment">Apiary Environment <span aria-hidden="true">*</span></label>
      <select id="environment" name="environment" required aria-required="true" onchange="toggleOtherInput(this, 'other-environment')">
        <option value="">Select environment</option>
        <option value="Rural">Rural</option>
        <option value="Suburban">Suburban</option>
        <option value="Urban">Urban</option>
        <option value="Industrial">Industrial</option>
        <option value="Agricultural / Farmland">Agricultural / Farmland</option>
        <option value="Botanical Garden / Park">Botanical Garden / Park</option>
        <option value="Nature Reserve / Conservation Area">Nature Reserve / Conservation Area</option>
        <option value="School / Educational Facility">School / Educational Facility</option>
        <option value="Allotment / Community Garden">Allotment / Community Garden</option>
        <option value="Orchard / Vineyard">Orchard / Vineyard</option>
        <option value="Commercial Site / Business Grounds">Commercial Site / Business Grounds</option>
        <option value="Research Facility">Research Facility</option>
        <option value="Other">Other</option>
      </select>
      <input type="text" id="other-environment" name="otherEnvironment" placeholder="Please specify..." style="display:none;" aria-label="Specify other environment" />

      <!-- Terrain -->
      <label for="terrain">Apiary Terrain <span aria-hidden="true">*</span></label>
      <select id="terrain" name="terrain" required aria-required="true" onchange="toggleOtherInput(this, 'other-terrain')">
        <option value="">Select terrain</option>
        <option value="Backyard / Garden">Backyard / Garden</option>
        <option value="Grassland / Meadow">Grassland / Meadow</option>
        <option value="Woodland / Forest">Woodland / Forest</option>
        <option value="Rooftop">Rooftop</option>
        <option value="Hillside / Slope">Hillside / Slope</option>
        <option value="Marshland / Wetland">Marshland / Wetland</option>
        <option value="Coastal / Dune">Coastal / Dune</option>
        <option value="Upland / Mountainous">Upland / Mountainous</option>
        <option value="Field Edge / Hedgerow">Field Edge / Hedgerow</option>
        <option value="Paved / Urban Courtyard">Paved / Urban Courtyard</option>
        <option value="Gravel / Hardstanding">Gravel / Hardstanding</option>
        <option value="Other">Other</option>
      </select>
      <input type="text" id="other-terrain" name="otherTerrain" placeholder="Please specify..." style="display:none;" aria-label="Specify other terrain" />

      <!-- Address Search -->
      <label for="address">Search Address (optional)</label>
      <input type="text" id="address" name="address" placeholder="e.g., Cardiff, Wales" aria-describedby="address-help" />
      <small id="address-help">Start typing and press Enter to search</small>

      <!-- Map -->
      <label for="map">Pin Apiary Location on Map</label>
      <div id="map" role="application" aria-label="Interactive map to select apiary location" style="height: 300px; margin-bottom: 1rem; border-radius: 8px;"></div>
    
      <!-- Coordinates -->
      <label for="latitude">Latitude <span aria-hidden="true">*</span></label>
      <input type="number" id="latitude" name="latitude" step="any" required aria-required="true" />

      <label for="longitude">Longitude <span aria-hidden="true">*</span></label>
      <input type="number" id="longitude" name="longitude" step="any" required aria-required="true" />

      <button type="submit">Register Apiary</button>
    </form>

    <p id="form-message" aria-live="polite"></p>
  </div>
</main>

  <!-- Footer -->
    <footer class="member-footer" role="region" aria-label="Site Footer">
      <div class="member-footer-columns">
        <div class="member-footer-column">
          <h3>Contact</h3>
          <address>
            <p>Email: <a href="/contact.html">Contact</a></p>
          </address>
        </div>

        <div class="member-footer-column">
          <h3>Useful Links</h3>
          <ul>
            <li><a href="/privacy.html">Privacy Policy</a></li>
            <li><a href="/site-map.html">Site Map</a></li>
          </ul>
        </div>

        <div class="member-footer-column">
          <h3>Resources</h3>
          <ul>
            <li><a href="https://www.bbka.org.uk/" target="_blank">British Beekeepers Association</a></li>
            <li><a href="https://www.cardiffbeekeepers.co.uk/" target="_blank">Cardiff, Vale & Valleys Beekeepers</a></li>
            <li><a href="https://www.legislation.gov.uk/wsi/2015/1507/data.xht" target="_blank">Honey (Wales) Regulations</a></li>
            <li><a href="https://www.biodiversitywales.org.uk/Bee-Friendly" target="_blank">Wales Biodiversity Partnership</a></li>
            <li><a href="https://www.nationalbeeunit.com/" target="_blank">BeeBase</a></li>
          </ul>
        </div>
      </div>

      <div class="member-footer-bottom">
        &copy; 2023 Practical Beekeeping. All rights reserved.
      </div>
    </footer>

    <!-- Cookie Consent Popup -->
    <div id="member-cookie-consent" class="member-cookie-popup" role="region" aria-label="Cookie Consent Settings">
      <div class="member-cookie-content">
        <h2>🍪 We Use Cookies</h2>
        <p>We use essential cookies for site functionality. With your consent, we may also use cookies for analytics and marketing purposes.</p>

        <form id="member-cookie-options">
          <label><input type="checkbox" checked disabled /> Essential (always active)</label><br />
          <label><input type="checkbox" id="analytics" /> Analytics</label><br />
          <label><input type="checkbox" id="marketing" /> Marketing</label><br />
        </form>

        <div class="member-cookie-buttons">
          <button id="accept-selected">Accept Selected</button>
          <button id="accept-all">Accept All</button>
        </div>
      </div>
    </div>

  <!-- Back to Top -->
  <button id="member-backToTop" title="Back to top" aria-label="Back to top">⬆ Top</button>

  <!-- Scripts -->
  <script src="register-apiary.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.6/dist/umd/supabase.min.js"></script>
  <script src="../../js/members.js" defer></script>
  <script src="/hivetag-netlify/hivetag/dashboard.js" defer></script>
 

</body>
</html>